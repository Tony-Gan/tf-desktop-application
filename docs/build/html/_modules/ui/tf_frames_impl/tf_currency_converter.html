

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ui.tf_frames_impl.tf_currency_converter &mdash; TF Desktop 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=d45e8c67"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            TF Desktop
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ui/index.html">Ui Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/tools/index.html">Tools Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/settings/index.html">Settings Components</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">TF Desktop</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">ui.tf_frames_impl.tf_currency_converter</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for ui.tf_frames_impl.tf_currency_converter</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">pytz</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Optional</span>

<span class="kn">from</span> <span class="nn">PyQt6.QtWidgets</span> <span class="kn">import</span> <span class="n">QCompleter</span><span class="p">,</span> <span class="n">QLineEdit</span><span class="p">,</span> <span class="n">QListView</span><span class="p">,</span> <span class="n">QVBoxLayout</span><span class="p">,</span> <span class="n">QWidget</span><span class="p">,</span> <span class="n">QComboBox</span><span class="p">,</span> <span class="n">QHBoxLayout</span><span class="p">,</span> <span class="n">QLabel</span><span class="p">,</span> <span class="n">QFrame</span><span class="p">,</span> <span class="n">QStyledItemDelegate</span>
<span class="kn">from</span> <span class="nn">PyQt6.QtCore</span> <span class="kn">import</span> <span class="n">Qt</span><span class="p">,</span> <span class="n">QSize</span>
<span class="kn">from</span> <span class="nn">PyQt6.QtGui</span> <span class="kn">import</span> <span class="n">QFont</span><span class="p">,</span> <span class="n">QPixmap</span><span class="p">,</span> <span class="n">QIcon</span><span class="p">,</span> <span class="n">QStandardItemModel</span><span class="p">,</span> <span class="n">QStandardItem</span>

<span class="kn">from</span> <span class="nn">ui.tf_draggable_window</span> <span class="kn">import</span> <span class="n">TFDraggableWindow</span>
<span class="kn">from</span> <span class="nn">ui.tf_widgets.tf_number_receiver</span> <span class="kn">import</span> <span class="n">TFNumberReceiver</span>
<span class="kn">from</span> <span class="nn">ui.tf_widgets.tf_buttons</span> <span class="kn">import</span> <span class="n">TFPushButton</span><span class="p">,</span> <span class="n">TFConfirmButton</span><span class="p">,</span> <span class="n">TFResetButton</span>
<span class="kn">from</span> <span class="nn">tools.tf_api_loader</span> <span class="kn">import</span> <span class="n">TFAPILoader</span>
<span class="kn">from</span> <span class="nn">tools.tf_tool_matadata</span> <span class="kn">import</span> <span class="n">TFToolMetadata</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">settings.secret</span> <span class="kn">import</span> <span class="n">API_KEY</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="n">API_KEY</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="CleanTextBox">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.CleanTextBox">[docs]</a>
<span class="k">class</span> <span class="nc">CleanTextBox</span><span class="p">(</span><span class="n">QComboBox</span><span class="p">):</span>
<div class="viewcode-block" id="CleanTextBox.focusInEvent">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.CleanTextBox.focusInEvent">[docs]</a>
    <span class="k">def</span> <span class="nf">focusInEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">focusInEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;Select Currency&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit</span><span class="p">()</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span></div>
</div>


<div class="viewcode-block" id="TFCurrencyConverter">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter">[docs]</a>
<span class="k">class</span> <span class="nc">TFCurrencyConverter</span><span class="p">(</span><span class="n">TFDraggableWindow</span><span class="p">):</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="n">TFToolMetadata</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;currency_converter&quot;</span><span class="p">,</span>
        <span class="n">menu_path</span><span class="o">=</span><span class="s2">&quot;Tools&quot;</span><span class="p">,</span>
        <span class="n">menu_title</span><span class="o">=</span><span class="s2">&quot;Currency Converter&quot;</span><span class="p">,</span>
        <span class="n">window_title</span><span class="o">=</span><span class="s2">&quot;Currency Converter&quot;</span><span class="p">,</span>
        <span class="n">window_size</span><span class="o">=</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">500</span><span class="p">),</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Convert between different currencies using real-time exchange rates&quot;</span><span class="p">,</span>
        <span class="n">max_instances</span><span class="o">=</span><span class="mi">1</span>
    <span class="p">)</span>

<div class="viewcode-block" id="TFCurrencyConverter.__init__">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.__init__">[docs]</a>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_currencies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rates</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_update</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currency_names</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;USD&quot;</span><span class="p">:</span> <span class="s2">&quot;United States Dollar - USD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;AED&quot;</span><span class="p">:</span> <span class="s2">&quot;United Arab Emirates Dirham - AED&quot;</span><span class="p">,</span>
            <span class="s2">&quot;AFN&quot;</span><span class="p">:</span> <span class="s2">&quot;Afghan Afghani - AFN&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ALL&quot;</span><span class="p">:</span> <span class="s2">&quot;Albanian Lek - ALL&quot;</span><span class="p">,</span>
            <span class="s2">&quot;AMD&quot;</span><span class="p">:</span> <span class="s2">&quot;Armenian Dram - AMD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ANG&quot;</span><span class="p">:</span> <span class="s2">&quot;Netherlands Antillean Guilder - ANG&quot;</span><span class="p">,</span>
            <span class="s2">&quot;AOA&quot;</span><span class="p">:</span> <span class="s2">&quot;Angolan Kwanza - AOA&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ARS&quot;</span><span class="p">:</span> <span class="s2">&quot;Argentine Peso - ARS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;AUD&quot;</span><span class="p">:</span> <span class="s2">&quot;Australian Dollar - AUD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;AWG&quot;</span><span class="p">:</span> <span class="s2">&quot;Aruban Florin - AWG&quot;</span><span class="p">,</span>
            <span class="s2">&quot;AZN&quot;</span><span class="p">:</span> <span class="s2">&quot;Azerbaijani Manat - AZN&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BAM&quot;</span><span class="p">:</span> <span class="s2">&quot;Bosnia-Herzegovina Convertible Mark - BAM&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BBD&quot;</span><span class="p">:</span> <span class="s2">&quot;Barbadian Dollar - BBD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BDT&quot;</span><span class="p">:</span> <span class="s2">&quot;Bangladeshi Taka - BDT&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BGN&quot;</span><span class="p">:</span> <span class="s2">&quot;Bulgarian Lev - BGN&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BHD&quot;</span><span class="p">:</span> <span class="s2">&quot;Bahraini Dinar - BHD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BIF&quot;</span><span class="p">:</span> <span class="s2">&quot;Burundian Franc - BIF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BMD&quot;</span><span class="p">:</span> <span class="s2">&quot;Bermudian Dollar - BMD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BND&quot;</span><span class="p">:</span> <span class="s2">&quot;Brunei Dollar - BND&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BOB&quot;</span><span class="p">:</span> <span class="s2">&quot;Bolivian Boliviano - BOB&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BRL&quot;</span><span class="p">:</span> <span class="s2">&quot;Brazilian Real - BRL&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BSD&quot;</span><span class="p">:</span> <span class="s2">&quot;Bahamian Dollar - BSD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BTN&quot;</span><span class="p">:</span> <span class="s2">&quot;Bhutanese Ngultrum - BTN&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BWP&quot;</span><span class="p">:</span> <span class="s2">&quot;Botswana Pula - BWP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BYN&quot;</span><span class="p">:</span> <span class="s2">&quot;Belarusian Ruble - BYN&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BZD&quot;</span><span class="p">:</span> <span class="s2">&quot;Belize Dollar - BZD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;CAD&quot;</span><span class="p">:</span> <span class="s2">&quot;Canadian Dollar - CAD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;CDF&quot;</span><span class="p">:</span> <span class="s2">&quot;Congolese Franc - CDF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;CHF&quot;</span><span class="p">:</span> <span class="s2">&quot;Swiss Franc - CHF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;CLP&quot;</span><span class="p">:</span> <span class="s2">&quot;Chilean Peso - CLP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;CNY&quot;</span><span class="p">:</span> <span class="s2">&quot;Chinese Yuan - CNY&quot;</span><span class="p">,</span>
            <span class="s2">&quot;COP&quot;</span><span class="p">:</span> <span class="s2">&quot;Colombian Peso - COP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;CRC&quot;</span><span class="p">:</span> <span class="s2">&quot;Costa Rican Colón - CRC&quot;</span><span class="p">,</span>
            <span class="s2">&quot;CUP&quot;</span><span class="p">:</span> <span class="s2">&quot;Cuban Peso - CUP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;CVE&quot;</span><span class="p">:</span> <span class="s2">&quot;Cape Verdean Escudo - CVE&quot;</span><span class="p">,</span>
            <span class="s2">&quot;CZK&quot;</span><span class="p">:</span> <span class="s2">&quot;Czech Koruna - CZK&quot;</span><span class="p">,</span>
            <span class="s2">&quot;DJF&quot;</span><span class="p">:</span> <span class="s2">&quot;Djiboutian Franc - DJF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;DKK&quot;</span><span class="p">:</span> <span class="s2">&quot;Danish Krone - DKK&quot;</span><span class="p">,</span>
            <span class="s2">&quot;DOP&quot;</span><span class="p">:</span> <span class="s2">&quot;Dominican Peso - DOP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;DZD&quot;</span><span class="p">:</span> <span class="s2">&quot;Algerian Dinar - DZD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;EGP&quot;</span><span class="p">:</span> <span class="s2">&quot;Egyptian Pound - EGP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ERN&quot;</span><span class="p">:</span> <span class="s2">&quot;Eritrean Nakfa - ERN&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ETB&quot;</span><span class="p">:</span> <span class="s2">&quot;Ethiopian Birr - ETB&quot;</span><span class="p">,</span>
            <span class="s2">&quot;EUR&quot;</span><span class="p">:</span> <span class="s2">&quot;Euro - EUR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FJD&quot;</span><span class="p">:</span> <span class="s2">&quot;Fijian Dollar - FJD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FKP&quot;</span><span class="p">:</span> <span class="s2">&quot;Falkland Islands Pound - FKP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FOK&quot;</span><span class="p">:</span> <span class="s2">&quot;Faroese Króna - FOK&quot;</span><span class="p">,</span>
            <span class="s2">&quot;GBP&quot;</span><span class="p">:</span> <span class="s2">&quot;British Pound Sterling - GBP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;GEL&quot;</span><span class="p">:</span> <span class="s2">&quot;Georgian Lari - GEL&quot;</span><span class="p">,</span>
            <span class="s2">&quot;GGP&quot;</span><span class="p">:</span> <span class="s2">&quot;Guernsey Pound - GGP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;GHS&quot;</span><span class="p">:</span> <span class="s2">&quot;Ghanaian Cedi - GHS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;GIP&quot;</span><span class="p">:</span> <span class="s2">&quot;Gibraltar Pound - GIP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;GMD&quot;</span><span class="p">:</span> <span class="s2">&quot;Gambian Dalasi - GMD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;GNF&quot;</span><span class="p">:</span> <span class="s2">&quot;Guinean Franc - GNF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;GTQ&quot;</span><span class="p">:</span> <span class="s2">&quot;Guatemalan Quetzal - GTQ&quot;</span><span class="p">,</span>
            <span class="s2">&quot;GYD&quot;</span><span class="p">:</span> <span class="s2">&quot;Guyanese Dollar - GYD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;HKD&quot;</span><span class="p">:</span> <span class="s2">&quot;Hong Kong Dollar - HKD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;HNL&quot;</span><span class="p">:</span> <span class="s2">&quot;Honduran Lempira - HNL&quot;</span><span class="p">,</span>
            <span class="s2">&quot;HRK&quot;</span><span class="p">:</span> <span class="s2">&quot;Croatian Kuna - HRK&quot;</span><span class="p">,</span>
            <span class="s2">&quot;HTG&quot;</span><span class="p">:</span> <span class="s2">&quot;Haitian Gourde - HTG&quot;</span><span class="p">,</span>
            <span class="s2">&quot;HUF&quot;</span><span class="p">:</span> <span class="s2">&quot;Hungarian Forint - HUF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;IDR&quot;</span><span class="p">:</span> <span class="s2">&quot;Indonesian Rupiah - IDR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ILS&quot;</span><span class="p">:</span> <span class="s2">&quot;Israeli New Shekel - ILS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;IMP&quot;</span><span class="p">:</span> <span class="s2">&quot;Isle of Man Pound - IMP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;INR&quot;</span><span class="p">:</span> <span class="s2">&quot;Indian Rupee - INR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;IQD&quot;</span><span class="p">:</span> <span class="s2">&quot;Iraqi Dinar - IQD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;IRR&quot;</span><span class="p">:</span> <span class="s2">&quot;Iranian Rial - IRR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ISK&quot;</span><span class="p">:</span> <span class="s2">&quot;Icelandic Króna - ISK&quot;</span><span class="p">,</span>
            <span class="s2">&quot;JEP&quot;</span><span class="p">:</span> <span class="s2">&quot;Jersey Pound - JEP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;JMD&quot;</span><span class="p">:</span> <span class="s2">&quot;Jamaican Dollar - JMD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;JOD&quot;</span><span class="p">:</span> <span class="s2">&quot;Jordanian Dinar - JOD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;JPY&quot;</span><span class="p">:</span> <span class="s2">&quot;Japanese Yen - JPY&quot;</span><span class="p">,</span>
            <span class="s2">&quot;KES&quot;</span><span class="p">:</span> <span class="s2">&quot;Kenyan Shilling - KES&quot;</span><span class="p">,</span>
            <span class="s2">&quot;KGS&quot;</span><span class="p">:</span> <span class="s2">&quot;Kyrgyzstani Som - KGS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;KHR&quot;</span><span class="p">:</span> <span class="s2">&quot;Cambodian Riel - KHR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;KID&quot;</span><span class="p">:</span> <span class="s2">&quot;Kiribati Dollar - KID&quot;</span><span class="p">,</span>
            <span class="s2">&quot;KMF&quot;</span><span class="p">:</span> <span class="s2">&quot;Comorian Franc - KMF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;KRW&quot;</span><span class="p">:</span> <span class="s2">&quot;South Korean Won - KRW&quot;</span><span class="p">,</span>
            <span class="s2">&quot;KWD&quot;</span><span class="p">:</span> <span class="s2">&quot;Kuwaiti Dinar - KWD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;KYD&quot;</span><span class="p">:</span> <span class="s2">&quot;Cayman Islands Dollar - KYD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;KZT&quot;</span><span class="p">:</span> <span class="s2">&quot;Kazakhstani Tenge - KZT&quot;</span><span class="p">,</span>
            <span class="s2">&quot;LAK&quot;</span><span class="p">:</span> <span class="s2">&quot;Lao Kip - LAK&quot;</span><span class="p">,</span>
            <span class="s2">&quot;LBP&quot;</span><span class="p">:</span> <span class="s2">&quot;Lebanese Pound - LBP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;LKR&quot;</span><span class="p">:</span> <span class="s2">&quot;Sri Lankan Rupee - LKR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;LRD&quot;</span><span class="p">:</span> <span class="s2">&quot;Liberian Dollar - LRD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;LSL&quot;</span><span class="p">:</span> <span class="s2">&quot;Lesotho Loti - LSL&quot;</span><span class="p">,</span>
            <span class="s2">&quot;LYD&quot;</span><span class="p">:</span> <span class="s2">&quot;Libyan Dinar - LYD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MAD&quot;</span><span class="p">:</span> <span class="s2">&quot;Moroccan Dirham - MAD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MDL&quot;</span><span class="p">:</span> <span class="s2">&quot;Moldovan Leu - MDL&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MGA&quot;</span><span class="p">:</span> <span class="s2">&quot;Malagasy Ariary - MGA&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MKD&quot;</span><span class="p">:</span> <span class="s2">&quot;Macedonian Denar - MKD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MMK&quot;</span><span class="p">:</span> <span class="s2">&quot;Myanmar Kyat - MMK&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MNT&quot;</span><span class="p">:</span> <span class="s2">&quot;Mongolian Tögrög - MNT&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MOP&quot;</span><span class="p">:</span> <span class="s2">&quot;Macanese Pataca - MOP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MRU&quot;</span><span class="p">:</span> <span class="s2">&quot;Mauritanian Ouguiya - MRU&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MUR&quot;</span><span class="p">:</span> <span class="s2">&quot;Mauritian Rupee - MUR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MVR&quot;</span><span class="p">:</span> <span class="s2">&quot;Maldivian Rufiyaa - MVR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MWK&quot;</span><span class="p">:</span> <span class="s2">&quot;Malawian Kwacha - MWK&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MXN&quot;</span><span class="p">:</span> <span class="s2">&quot;Mexican Peso - MXN&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MYR&quot;</span><span class="p">:</span> <span class="s2">&quot;Malaysian Ringgit - MYR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MZN&quot;</span><span class="p">:</span> <span class="s2">&quot;Mozambican Metical - MZN&quot;</span><span class="p">,</span>
            <span class="s2">&quot;NAD&quot;</span><span class="p">:</span> <span class="s2">&quot;Namibian Dollar - NAD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;NGN&quot;</span><span class="p">:</span> <span class="s2">&quot;Nigerian Naira - NGN&quot;</span><span class="p">,</span>
            <span class="s2">&quot;NIO&quot;</span><span class="p">:</span> <span class="s2">&quot;Nicaraguan Córdoba - NIO&quot;</span><span class="p">,</span>
            <span class="s2">&quot;NOK&quot;</span><span class="p">:</span> <span class="s2">&quot;Norwegian Krone - NOK&quot;</span><span class="p">,</span>
            <span class="s2">&quot;NPR&quot;</span><span class="p">:</span> <span class="s2">&quot;Nepalese Rupee - NPR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;NZD&quot;</span><span class="p">:</span> <span class="s2">&quot;New Zealand Dollar - NZD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;OMR&quot;</span><span class="p">:</span> <span class="s2">&quot;Omani Rial - OMR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;PAB&quot;</span><span class="p">:</span> <span class="s2">&quot;Panamanian Balboa - PAB&quot;</span><span class="p">,</span>
            <span class="s2">&quot;PEN&quot;</span><span class="p">:</span> <span class="s2">&quot;Peruvian Sol - PEN&quot;</span><span class="p">,</span>
            <span class="s2">&quot;PGK&quot;</span><span class="p">:</span> <span class="s2">&quot;Papua New Guinean Kina - PGK&quot;</span><span class="p">,</span>
            <span class="s2">&quot;PHP&quot;</span><span class="p">:</span> <span class="s2">&quot;Philippine Peso - PHP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;PKR&quot;</span><span class="p">:</span> <span class="s2">&quot;Pakistani Rupee - PKR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;PLN&quot;</span><span class="p">:</span> <span class="s2">&quot;Polish Złoty - PLN&quot;</span><span class="p">,</span>
            <span class="s2">&quot;PYG&quot;</span><span class="p">:</span> <span class="s2">&quot;Paraguayan Guaraní - PYG&quot;</span><span class="p">,</span>
            <span class="s2">&quot;QAR&quot;</span><span class="p">:</span> <span class="s2">&quot;Qatari Riyal - QAR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;RON&quot;</span><span class="p">:</span> <span class="s2">&quot;Romanian Leu - RON&quot;</span><span class="p">,</span>
            <span class="s2">&quot;RSD&quot;</span><span class="p">:</span> <span class="s2">&quot;Serbian Dinar - RSD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;RUB&quot;</span><span class="p">:</span> <span class="s2">&quot;Russian Ruble - RUB&quot;</span><span class="p">,</span>
            <span class="s2">&quot;RWF&quot;</span><span class="p">:</span> <span class="s2">&quot;Rwandan Franc - RWF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SAR&quot;</span><span class="p">:</span> <span class="s2">&quot;Saudi Riyal - SAR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SBD&quot;</span><span class="p">:</span> <span class="s2">&quot;Solomon Islands Dollar - SBD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SCR&quot;</span><span class="p">:</span> <span class="s2">&quot;Seychellois Rupee - SCR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SDG&quot;</span><span class="p">:</span> <span class="s2">&quot;Sudanese Pound - SDG&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SEK&quot;</span><span class="p">:</span> <span class="s2">&quot;Swedish Krona - SEK&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SGD&quot;</span><span class="p">:</span> <span class="s2">&quot;Singapore Dollar - SGD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SHP&quot;</span><span class="p">:</span> <span class="s2">&quot;Saint Helena Pound - SHP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SLE&quot;</span><span class="p">:</span> <span class="s2">&quot;Sierra Leonean Leone - SLE&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SLL&quot;</span><span class="p">:</span> <span class="s2">&quot;Sierra Leonean Leone - SLL&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SOS&quot;</span><span class="p">:</span> <span class="s2">&quot;Somali Shilling - SOS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SRD&quot;</span><span class="p">:</span> <span class="s2">&quot;Surinamese Dollar - SRD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SSP&quot;</span><span class="p">:</span> <span class="s2">&quot;South Sudanese Pound - SSP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;STN&quot;</span><span class="p">:</span> <span class="s2">&quot;São Tomé and Príncipe Dobra - STN&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SYP&quot;</span><span class="p">:</span> <span class="s2">&quot;Syrian Pound - SYP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SZL&quot;</span><span class="p">:</span> <span class="s2">&quot;Eswatini Lilangeni - SZL&quot;</span><span class="p">,</span>
            <span class="s2">&quot;THB&quot;</span><span class="p">:</span> <span class="s2">&quot;Thai Baht - THB&quot;</span><span class="p">,</span>
            <span class="s2">&quot;TJS&quot;</span><span class="p">:</span> <span class="s2">&quot;Tajikistani Somoni - TJS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;TMT&quot;</span><span class="p">:</span> <span class="s2">&quot;Turkmenistani Manat - TMT&quot;</span><span class="p">,</span>
            <span class="s2">&quot;TND&quot;</span><span class="p">:</span> <span class="s2">&quot;Tunisian Dinar - TND&quot;</span><span class="p">,</span>
            <span class="s2">&quot;TOP&quot;</span><span class="p">:</span> <span class="s2">&quot;Tongan Paʻanga - TOP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;TRY&quot;</span><span class="p">:</span> <span class="s2">&quot;Turkish Lira - TRY&quot;</span><span class="p">,</span>
            <span class="s2">&quot;TTD&quot;</span><span class="p">:</span> <span class="s2">&quot;Trinidad and Tobago Dollar - TTD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;TVD&quot;</span><span class="p">:</span> <span class="s2">&quot;Tuvaluan Dollar - TVD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;TWD&quot;</span><span class="p">:</span> <span class="s2">&quot;New Taiwan Dollar - TWD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;TZS&quot;</span><span class="p">:</span> <span class="s2">&quot;Tanzanian Shilling - TZS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;UAH&quot;</span><span class="p">:</span> <span class="s2">&quot;Ukrainian Hryvnia - UAH&quot;</span><span class="p">,</span>
            <span class="s2">&quot;UGX&quot;</span><span class="p">:</span> <span class="s2">&quot;Ugandan Shilling - UGX&quot;</span><span class="p">,</span>
            <span class="s2">&quot;UYU&quot;</span><span class="p">:</span> <span class="s2">&quot;Uruguayan Peso - UYU&quot;</span><span class="p">,</span>
            <span class="s2">&quot;UZS&quot;</span><span class="p">:</span> <span class="s2">&quot;Uzbekistani Soʻm - UZS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;VES&quot;</span><span class="p">:</span> <span class="s2">&quot;Venezuelan Bolívar - VES&quot;</span><span class="p">,</span>
            <span class="s2">&quot;VND&quot;</span><span class="p">:</span> <span class="s2">&quot;Vietnamese Đồng - VND&quot;</span><span class="p">,</span>
            <span class="s2">&quot;VUV&quot;</span><span class="p">:</span> <span class="s2">&quot;Vanuatu Vatu - VUV&quot;</span><span class="p">,</span>
            <span class="s2">&quot;WST&quot;</span><span class="p">:</span> <span class="s2">&quot;Samoan Tālā - WST&quot;</span><span class="p">,</span>
            <span class="s2">&quot;XAF&quot;</span><span class="p">:</span> <span class="s2">&quot;Central African CFA Franc - XAF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;XCD&quot;</span><span class="p">:</span> <span class="s2">&quot;East Caribbean Dollar - XCD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;XDR&quot;</span><span class="p">:</span> <span class="s2">&quot;Special Drawing Rights - XDR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;XOF&quot;</span><span class="p">:</span> <span class="s2">&quot;West African CFA Franc - XOF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;XPF&quot;</span><span class="p">:</span> <span class="s2">&quot;CFP Franc - XPF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;YER&quot;</span><span class="p">:</span> <span class="s2">&quot;Yemeni Rial - YER&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ZAR&quot;</span><span class="p">:</span> <span class="s2">&quot;South African Rand - ZAR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ZMW&quot;</span><span class="p">:</span> <span class="s2">&quot;Zambian Kwacha - ZMW&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ZWL&quot;</span><span class="p">:</span> <span class="s2">&quot;Zimbabwean Dollar - ZWL&quot;</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currency_icons</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">QIcon</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currency_frames</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">QFrame</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currency_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">QLineEdit</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span></div>


<div class="viewcode-block" id="TFCurrencyConverter.initialize_window">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.initialize_window">[docs]</a>
    <span class="k">def</span> <span class="nf">initialize_window</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup_ui</span><span class="p">()</span></div>

        
<div class="viewcode-block" id="TFCurrencyConverter.setup_ui">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.setup_ui">[docs]</a>
    <span class="k">def</span> <span class="nf">setup_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">window_size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">window_size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">30</span><span class="p">)</span>

        <span class="n">main_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">)</span>
        <span class="n">main_layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
        <span class="n">main_layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

        <span class="n">selector_container</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">selector_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="n">selector_container</span><span class="p">)</span>
        <span class="n">selector_layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
        <span class="n">selector_layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="n">selector</span> <span class="o">=</span> <span class="n">CleanTextBox</span><span class="p">()</span>
            <span class="n">selector</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;currency_selector&quot;</span><span class="p">)</span>
            <span class="n">font</span> <span class="o">=</span> <span class="n">QFont</span><span class="p">(</span><span class="s2">&quot;Nunito&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
            <span class="n">selector</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setup_selector</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
            <span class="n">selector_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
            <span class="n">selector</span><span class="o">.</span><span class="n">currentTextChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_selection_changed</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">selector</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="n">main_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">selector_container</span><span class="p">)</span>

        <span class="n">button_container</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">button_layout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">(</span><span class="n">button_container</span><span class="p">)</span>
        <span class="n">button_layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">confirm_button</span> <span class="o">=</span> <span class="n">TFConfirmButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">confirm_selection</span><span class="p">)</span>
        <span class="n">button_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">confirm_button</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">reset_button</span> <span class="o">=</span> <span class="n">TFResetButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">reset_converter</span><span class="p">)</span>
        <span class="n">button_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reset_button</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">zero_button</span> <span class="o">=</span> <span class="n">TFPushButton</span><span class="p">(</span><span class="s2">&quot;Zero&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">zero_amounts</span><span class="p">,</span> <span class="s2">&quot;zero_button&quot;</span><span class="p">)</span>
        <span class="n">button_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">zero_button</span><span class="p">)</span>

        <span class="n">main_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">button_container</span><span class="p">)</span>

        <span class="n">currency_container</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">currency_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="n">currency_container</span><span class="p">)</span>
        <span class="n">currency_layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">currency_layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">currency_frames</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">QFrame</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currency_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">QLineEdit</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="n">frame</span> <span class="o">=</span> <span class="n">QFrame</span><span class="p">()</span>
            <span class="n">frame</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;currency_item&quot;</span><span class="p">)</span>
            <span class="n">frame_layout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
            <span class="n">frame_layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

            <span class="n">icon_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">()</span>
            <span class="n">icon_label</span><span class="o">.</span><span class="n">setFixedSize</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
            <span class="n">icon_label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: #ddd; border-radius: 15px;&quot;</span><span class="p">)</span>
            <span class="n">frame_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">icon_label</span><span class="p">)</span>

            <span class="n">currency_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Select Currency&quot;</span><span class="p">)</span>
            <span class="n">currency_label</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="s2">&quot;Nunito&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
            <span class="n">frame_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">currency_label</span><span class="p">)</span>

            <span class="n">amount_input</span> <span class="o">=</span> <span class="n">TFNumberReceiver</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AlignmentFlag</span><span class="o">.</span><span class="n">AlignRight</span><span class="p">)</span>
            <span class="n">amount_input</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;currency_amount&quot;</span><span class="p">)</span>
            <span class="n">amount_input</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">amount_input</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_amounts</span><span class="p">)</span>
            <span class="n">frame_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">amount_input</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">currency_frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currency_inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">amount_input</span><span class="p">)</span>
            <span class="n">currency_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">set_currency_icon</span><span class="p">(</span><span class="n">icon_label</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">)</span>

        <span class="n">main_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">currency_container</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">time_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Update time: Not yet fetched&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignmentFlag</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_label</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="s2">&quot;Open Sans&quot;</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
        <span class="n">main_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time_label</span><span class="p">)</span>

        <span class="n">main_layout</span><span class="o">.</span><span class="n">addStretch</span><span class="p">()</span></div>

        
<div class="viewcode-block" id="TFCurrencyConverter.setup_selector">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.setup_selector">[docs]</a>
    <span class="k">def</span> <span class="nf">setup_selector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selector</span><span class="p">:</span> <span class="n">QComboBox</span><span class="p">):</span>
        <span class="n">selector</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">default_icon_path</span> <span class="o">=</span> <span class="s2">&quot;static/images/countries/default.png&quot;</span>
        <span class="n">default_icon</span> <span class="o">=</span> <span class="n">QIcon</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="n">default_icon_path</span><span class="p">)</span><span class="o">.</span><span class="n">scaled</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AspectRatioMode</span><span class="o">.</span><span class="n">KeepAspectRatio</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">TransformationMode</span><span class="o">.</span><span class="n">SmoothTransformation</span><span class="p">))</span>

        <span class="n">selector</span><span class="o">.</span><span class="n">setEditable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">selector</span><span class="o">.</span><span class="n">setInsertPolicy</span><span class="p">(</span><span class="n">QComboBox</span><span class="o">.</span><span class="n">InsertPolicy</span><span class="o">.</span><span class="n">NoInsert</span><span class="p">)</span>

        <span class="n">model</span> <span class="o">=</span> <span class="n">QStandardItemModel</span><span class="p">()</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QStandardItem</span><span class="p">(</span><span class="s2">&quot;Select Currency&quot;</span><span class="p">)</span>
        <span class="n">item</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">default_icon</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">code</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">currency_names</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">code</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">currency_icons</span><span class="p">:</span>
                <span class="n">icon</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currency_icons</span><span class="p">[</span><span class="n">code</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">icon_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;static/images/countries/</span><span class="si">{</span><span class="n">code</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">.png&quot;</span>
                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">icon_path</span><span class="p">):</span>
                    <span class="n">icon</span> <span class="o">=</span> <span class="n">QIcon</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="n">icon_path</span><span class="p">)</span><span class="o">.</span><span class="n">scaled</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AspectRatioMode</span><span class="o">.</span><span class="n">KeepAspectRatio</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">TransformationMode</span><span class="o">.</span><span class="n">SmoothTransformation</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">icon</span> <span class="o">=</span> <span class="n">default_icon</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">currency_icons</span><span class="p">[</span><span class="n">code</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="n">icon</span>

            <span class="n">item</span> <span class="o">=</span> <span class="n">QStandardItem</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="n">item</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">icon</span><span class="p">)</span>
            <span class="n">item</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">ItemDataRole</span><span class="o">.</span><span class="n">UserRole</span><span class="p">)</span>
            <span class="n">model</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

        <span class="n">selector</span><span class="o">.</span><span class="n">setModel</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
        <span class="n">selector</span><span class="o">.</span><span class="n">setModelColumn</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">completer</span> <span class="o">=</span> <span class="n">QCompleter</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">selector</span><span class="p">)</span>
        <span class="n">completer</span><span class="o">.</span><span class="n">setCompletionRole</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">ItemDataRole</span><span class="o">.</span><span class="n">DisplayRole</span><span class="p">)</span>
        <span class="n">completer</span><span class="o">.</span><span class="n">setFilterMode</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">MatchFlag</span><span class="o">.</span><span class="n">MatchContains</span><span class="p">)</span>
        <span class="n">completer</span><span class="o">.</span><span class="n">setCaseSensitivity</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">CaseSensitivity</span><span class="o">.</span><span class="n">CaseInsensitive</span><span class="p">)</span>

        <span class="n">popup</span> <span class="o">=</span> <span class="n">QListView</span><span class="p">()</span>
        <span class="n">popup</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">QSize</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">))</span>
        <span class="n">popup</span><span class="o">.</span><span class="n">setUniformItemSizes</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">completer</span><span class="o">.</span><span class="n">setPopup</span><span class="p">(</span><span class="n">popup</span><span class="p">)</span>
        <span class="n">selector</span><span class="o">.</span><span class="n">setCompleter</span><span class="p">(</span><span class="n">completer</span><span class="p">)</span>

        <span class="n">delegate</span> <span class="o">=</span> <span class="n">QStyledItemDelegate</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
        <span class="n">selector</span><span class="o">.</span><span class="n">setItemDelegate</span><span class="p">(</span><span class="n">delegate</span><span class="p">)</span></div>


<div class="viewcode-block" id="TFCurrencyConverter.on_selection_changed">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.on_selection_changed">[docs]</a>
    <span class="k">def</span> <span class="nf">on_selection_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="n">sender</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sender</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">text</span> <span class="o">==</span> <span class="s2">&quot;Select Currency&quot;</span> <span class="ow">or</span> <span class="n">text</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">sender_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">sender</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">sender_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">sender_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">sender</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sender_index</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="p">[</span><span class="n">sender_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>

            
<div class="viewcode-block" id="TFCurrencyConverter.confirm_selection">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.confirm_selection">[docs]</a>
    <span class="k">def</span> <span class="nf">confirm_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">selected</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">selector</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">selector</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;Select Currency&quot;</span><span class="p">:</span>
                <span class="n">currency</span> <span class="o">=</span> <span class="n">selector</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; - &#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">currency</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">selected</span><span class="p">:</span>
                    <span class="n">selected</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">currency</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">selected</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="s1">&#39;You need to select at least two currencies.&#39;</span><span class="p">,</span> <span class="mi">3000</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">selected_currencies</span> <span class="o">=</span> <span class="n">selected</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">load_exchange_rates</span><span class="p">()</span></div>


<div class="viewcode-block" id="TFCurrencyConverter.load_exchange_rates">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.load_exchange_rates">[docs]</a>
    <span class="k">def</span> <span class="nf">load_exchange_rates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">should_update_data</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">load_saved_data</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">API_KEY</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="s2">&quot;API key is missing&quot;</span><span class="p">,</span> <span class="mi">3000</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">loader_thread</span> <span class="o">=</span> <span class="n">TFAPILoader</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;https://v6.exchangerate-api.com/v6/</span><span class="si">{</span><span class="n">API_KEY</span><span class="si">}</span><span class="s2">/latest/USD&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loader_thread</span><span class="o">.</span><span class="n">data_loaded</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_data_loaded</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loader_thread</span><span class="o">.</span><span class="n">error_occured</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_error_occurred</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loader_thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div>


<div class="viewcode-block" id="TFCurrencyConverter.on_data_loaded">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.on_data_loaded">[docs]</a>
    <span class="k">def</span> <span class="nf">on_data_loaded</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rates</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;conversion_rates&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_update</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;time_last_update_utc&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">save_exchange_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_ui_with_rates</span><span class="p">()</span></div>


<div class="viewcode-block" id="TFCurrencyConverter.on_error_occurred">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.on_error_occurred">[docs]</a>
    <span class="k">def</span> <span class="nf">on_error_occurred</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error_message</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">error_message</span><span class="p">,</span> <span class="mi">3000</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="TFCurrencyConverter.should_update_data">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.should_update_data">[docs]</a>
    <span class="k">def</span> <span class="nf">should_update_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s2">&quot;data/currency_record.json&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">saved_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="n">saved_time_str</span> <span class="o">=</span> <span class="n">saved_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;current_time&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">saved_time_str</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">saved_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span><span class="n">saved_time_str</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="n">current_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">current_time</span> <span class="o">-</span> <span class="n">saved_time</span> <span class="o">&gt;</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="TFCurrencyConverter.load_saved_data">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.load_saved_data">[docs]</a>
    <span class="k">def</span> <span class="nf">load_saved_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s2">&quot;data/currency_record.json&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="s2">&quot;Error loading saved data&quot;</span><span class="p">,</span> <span class="mi">3000</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rates</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;conversion_rates&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_update</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;time_last_update_utc&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_ui_with_rates</span><span class="p">()</span></div>


<div class="viewcode-block" id="TFCurrencyConverter.save_exchange_data">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.save_exchange_data">[docs]</a>
    <span class="k">def</span> <span class="nf">save_exchange_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s2">&quot;data/currency_record.json&quot;</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;current_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="s2">&quot;Error saving data&quot;</span><span class="p">,</span> <span class="mi">3000</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="TFCurrencyConverter.update_ui_with_rates">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.update_ui_with_rates">[docs]</a>
    <span class="k">def</span> <span class="nf">update_ui_with_rates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">frame</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currency_frames</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_currencies</span><span class="p">):</span>
                <span class="n">code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_currencies</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">currency_label</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">findChildren</span><span class="p">(</span><span class="n">QLabel</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">currency_label</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

                <span class="n">icon_label</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">findChildren</span><span class="p">(</span><span class="n">QLabel</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_currency_icon</span><span class="p">(</span><span class="n">icon_label</span><span class="p">,</span> <span class="n">code</span><span class="p">)</span>

                <span class="n">amount_input</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">findChild</span><span class="p">(</span><span class="n">QLineEdit</span><span class="p">)</span>
                <span class="n">amount_input</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">amount_input</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">icon_label</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">findChildren</span><span class="p">(</span><span class="n">QLabel</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_currency_icon</span><span class="p">(</span><span class="n">icon_label</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">)</span>

                <span class="n">currency_label</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">findChildren</span><span class="p">(</span><span class="n">QLabel</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">currency_label</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Select Currency&quot;</span><span class="p">)</span>

                <span class="n">amount_input</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">findChild</span><span class="p">(</span><span class="n">QLineEdit</span><span class="p">)</span>
                <span class="n">amount_input</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">amount_input</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_update</span><span class="p">:</span>
            <span class="n">update_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_to_local_time</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_update</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">time_label</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Update time: </span><span class="si">{</span><span class="n">update_time</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">selector</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="p">:</span>
            <span class="n">selector</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">confirm_button</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></div>

                        
<div class="viewcode-block" id="TFCurrencyConverter.update_amounts">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.update_amounts">[docs]</a>
    <span class="k">def</span> <span class="nf">update_amounts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">sender</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sender</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span>
            <span class="n">sender</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">sender</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="n">sender</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">sender_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currency_inputs</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">sender</span><span class="p">)</span>
            <span class="n">amount</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

            <span class="n">digit_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">digit_count</span> <span class="o">&gt;</span> <span class="mi">12</span><span class="p">:</span>
                <span class="n">scientific_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">amount</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">sender</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">sender</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">scientific_text</span><span class="p">)</span>
                <span class="n">sender</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">sender</span><span class="o">.</span><span class="n">setReadOnly</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">sender</span><span class="o">.</span><span class="n">setReadOnly</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

            <span class="n">source_currency</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_currencies</span><span class="p">[</span><span class="n">sender_index</span><span class="p">]</span>

            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">currency_code</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_currencies</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">sender_index</span><span class="p">:</span>
                    <span class="n">target_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currency_inputs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">rate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rates</span><span class="p">[</span><span class="n">currency_code</span><span class="p">]</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">rates</span><span class="p">[</span><span class="n">source_currency</span><span class="p">]</span>
                    <span class="n">converted_amount</span> <span class="o">=</span> <span class="n">amount</span> <span class="o">*</span> <span class="n">rate</span>

                    <span class="n">converted_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">converted_amount</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="n">digit_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">converted_text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
                    <span class="k">if</span> <span class="n">digit_count</span> <span class="o">&gt;</span> <span class="mi">12</span><span class="p">:</span>
                        <span class="n">converted_text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">converted_amount</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="n">target_input</span><span class="o">.</span><span class="n">setReadOnly</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">target_input</span><span class="o">.</span><span class="n">setReadOnly</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

                    <span class="n">target_input</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                    <span class="n">target_input</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">converted_text</span><span class="p">)</span>
                    <span class="n">target_input</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="s1">&#39;Invalid input&#39;</span><span class="p">,</span> <span class="mi">3000</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="TFCurrencyConverter.reset_converter">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.reset_converter">[docs]</a>
    <span class="k">def</span> <span class="nf">reset_converter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">selector</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="p">):</span>
            <span class="n">selector</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">selector</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">confirm_button</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">currency_frames</span><span class="p">:</span>
            <span class="n">icon_label</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">findChildren</span><span class="p">(</span><span class="n">QLabel</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">currency_label</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">findChildren</span><span class="p">(</span><span class="n">QLabel</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">set_currency_icon</span><span class="p">(</span><span class="n">icon_label</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">)</span>
            <span class="n">currency_label</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Select Currency&quot;</span><span class="p">)</span>

            <span class="n">amount_input</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">findChild</span><span class="p">(</span><span class="n">QLineEdit</span><span class="p">)</span>
            <span class="n">amount_input</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">amount_input</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">selected_currencies</span> <span class="o">=</span> <span class="p">[]</span></div>


<div class="viewcode-block" id="TFCurrencyConverter.set_currency_icon">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.set_currency_icon">[docs]</a>
    <span class="k">def</span> <span class="nf">set_currency_icon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">icon_label</span><span class="p">:</span> <span class="n">QLabel</span><span class="p">,</span> <span class="n">currency_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">default_icon_path</span> <span class="o">=</span> <span class="s2">&quot;static/images/countries/default.png&quot;</span>
        <span class="n">default_pixmap</span> <span class="o">=</span> <span class="n">QPixmap</span><span class="p">(</span><span class="n">default_icon_path</span><span class="p">)</span><span class="o">.</span><span class="n">scaled</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AspectRatioMode</span><span class="o">.</span><span class="n">KeepAspectRatio</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">TransformationMode</span><span class="o">.</span><span class="n">SmoothTransformation</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">currency_code</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">currency_icons</span><span class="p">:</span>
            <span class="n">pixmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currency_icons</span><span class="p">[</span><span class="n">currency_code</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span><span class="o">.</span><span class="n">pixmap</span><span class="p">(</span><span class="n">QSize</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">icon_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;static/images/countries/</span><span class="si">{</span><span class="n">currency_code</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">.png&quot;</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">icon_path</span><span class="p">):</span>
                <span class="n">pixmap</span> <span class="o">=</span> <span class="n">QPixmap</span><span class="p">(</span><span class="n">icon_path</span><span class="p">)</span><span class="o">.</span><span class="n">scaled</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AspectRatioMode</span><span class="o">.</span><span class="n">KeepAspectRatio</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">TransformationMode</span><span class="o">.</span><span class="n">SmoothTransformation</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">currency_icons</span><span class="p">[</span><span class="n">currency_code</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="n">QIcon</span><span class="p">(</span><span class="n">pixmap</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">pixmap</span> <span class="o">=</span> <span class="n">default_pixmap</span>
        <span class="n">icon_label</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="TFCurrencyConverter.convert_to_local_time">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.convert_to_local_time">[docs]</a>
    <span class="k">def</span> <span class="nf">convert_to_local_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">utc_time_str</span><span class="p">):</span>
        <span class="n">utc_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">utc_time_str</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%a</span><span class="s2">, </span><span class="si">%d</span><span class="s2"> %b %Y %H:%M:%S +0000&quot;</span><span class="p">)</span>
        <span class="n">utc_time</span> <span class="o">=</span> <span class="n">pytz</span><span class="o">.</span><span class="n">utc</span><span class="o">.</span><span class="n">localize</span><span class="p">(</span><span class="n">utc_time</span><span class="p">)</span>

        <span class="n">local_tz</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">astimezone</span><span class="p">()</span><span class="o">.</span><span class="n">tzinfo</span>

        <span class="n">local_time</span> <span class="o">=</span> <span class="n">utc_time</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">local_tz</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">local_time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> %b %Y %H:%M:%S&quot;</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="TFCurrencyConverter.zero_amounts">
<a class="viewcode-back" href="../../../modules/ui/tf_frames_impl/tf_currency_converter.html#ui.tf_frames_impl.tf_currency_converter.TFCurrencyConverter.zero_amounts">[docs]</a>
    <span class="k">def</span> <span class="nf">zero_amounts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">amount_input</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">currency_inputs</span><span class="p">:</span>
            <span class="n">amount_input</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">amount_input</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">)</span>
            <span class="n">amount_input</span><span class="o">.</span><span class="n">setReadOnly</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">amount_input</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></div>
</div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Tony G.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>